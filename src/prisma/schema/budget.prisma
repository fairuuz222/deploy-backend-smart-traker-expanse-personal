model Budget {
  id            String    @id @default(uuid())
  user_id       String
  category_id   Int?      // <--- Tambahan: Nullable (Bisa null untuk Global Budget)
  monthly_limit Decimal   @db.Decimal
  month_year    DateTime  @db.Date
  
  created_at    DateTime  @default(now()) @db.Timestamp
  updated_at    DateTime  @updatedAt

  // Relasi
  user          User      @relation(fields: [user_id], references: [id])
  category      Category? @relation(fields: [category_id], references: [id]) // <--- Relasi baru

  // Constraint: 
  // User tidak boleh punya 2 budget untuk kategori yang sama di bulan yang sama.
  // Note: Di PostgreSQL standar, unique constraint menganggap NULL berbeda-beda. 
  // Tapi kita akan handle proteksi duplikasi via logic Repository juga.
  @@unique([user_id, category_id, month_year])
}